---
timestamp: 'Tue Nov 04 2025 18:51:11 GMT-0500 (Eastern Standard Time)'
parent: '[[..\20251104_185111.c39b8ce0.md]]'
content_id: 0bd7ea3de93511b855a47e25465fe2ac7a5f0d3703638968f71652e66826a39e
---

# concept HerdGrouping

* **purpose** organize animals into dynamic groupings for operational and analytical purposes

* **principle**\
  a user creates herds to group animals based on location, purpose, or management strategy, animals may be part of multiple herds;\
  adds or removes animals from herds as conditions change;\
  merges herds when combining groups, or splits them to separate animals;\
  moves animals between herds to reflect real-world transitions;\
  and views herd composition and history to support planning and analysis.

* **state**
  * a set of `groups` with
    * a `name` of type `String`
    * an optional `description` of type `String`
    * a set of `animals` of type `ID`
    * an `archived` flag of type `Bool`

* **actions**
  * `createHerd (name: String, location: String, description: String, user: String): (herdName: String): Empty`
    * **effects** create a new herd with this owner, name, location, and no members

  * `addAnimal (herdName: String, animal: ID, user: String): Empty`
    * **requires** herd exists for this user and animal is in herd
    * **effects** add the animal to the herd and record an add event

  * `removeAnimal (herdName: Herd, animal: ID, user: String): Empty`
    * **requires** herd exists for this user and animal is a member
    * **effects** remove the animal from the herd and record a remove event

  * `moveAnimal (sourceHerd: Herd, targetHerd: Herd, animal: ID, user: String): Empty`
    * **requires** both herds exist for this user and animal is a member of source
    * **effects** remove the animal from source, add to target, and record a move event

  * `mergeHerds (herd1: String, herd2: String, user: String): (herdName: String)`
    * **requires** both herds exist for this user
    * **effects** move all animals from source to target, record a merge event, and archive source and target herd.

  * `splitHerd (source: String, target: String, animals: Array<ID>, user: String): Empty`
    * **requires** source herd exists for this user and all animals are members of source
    * **effects** move specified animals from source to target, creating target if it does not already exist

  * `deleteHerd (herdName: String, user: String): Empty`
    * **requires** source herd exists for this user
    * **effects** archives the selected herd if it is not archived, otherwise removes it from the set of herds

  * `restoreHerd (herdName: String, user: String): Empty`
    * **requires** herd exists for this user and is archived
    * **effects** sets the herd's archived flag to false
