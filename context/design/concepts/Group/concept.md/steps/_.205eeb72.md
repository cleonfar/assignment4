---
timestamp: 'Mon Oct 13 2025 13:19:30 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251013_131930.7ba2d3d9.md]]'
content_id: 205eeb728f928573609e0b9ddfb89cc4856a3cf65a7d96d29f98d2d473ed5f61
---

# concept HerdGrouping

* **purpose** organize animals into dynamic groupings for operational and analytical purposes

* **principle**\
  a user creates herds to group animals based on location, purpose, or management strategy;\
  adds or removes animals from herds as conditions change;\
  merges herds when combining groups, or splits them to separate animals;\
  moves animals between herds to reflect real-world transitions;\
  and views herd composition and history to support planning and analysis.

* **state**
  * a set of `groups` with
    * a `name` of type `String`
    * a `description` of type `String`
    * a set of `animals` of type `ID`

* **actions**
  * `createHerd (owner: User, name: String, location: String): (herd: Herd)`
    * **effects** create a new herd with this owner, name, location, and no members

  * `addAnimal (herd: Herd, animal: Animal)`
    * **requires** herd exists and animal exists
    * **effects** add the animal to the herd and record an add event

  * `removeAnimal (herd: Herd, animal: Animal)`
    * **requires** herd exists and animal is a member
    * **effects** remove the animal from the herd and record a remove event

  * `moveAnimal (source: Herd, target: Herd, animal: Animal)`
    * **requires** both herds exist and animal is a member of source
    * **effects** remove the animal from source, add to target, and record a move event

  * `mergeHerds (source: Herd, target: Herd)`
    * **requires** both herds exist
    * **effects** move all animals from source to target, record a merge event, and archive source and target herd.

  * `splitHerd (source: Herd, target: Herd, animals: Set<Animal>)`
    * **requires** both herds exist and all animals are members of source
    * **effects** move specified animals from source to target and record a split event

  * `viewComposition (herd: Herd): (animals: Set<Animal>)`
    * **requires** herd exists
    * **effects** return current members of the herd
